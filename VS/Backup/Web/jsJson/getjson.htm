<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>JS面向对象小测试</title>
    <script src="jQuery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="jQuery/jquery.json-2.4.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $("#submit").click(function () {
                var arr = new Array();
                var checks = $("#list :checkbox:checked");
                checks.each(function () {
                    var thisTR = $(this).parent().parent();
                    var person = {
                        id: thisTR.find('.account').text(),
                        name: thisTR.find('.name').text()
                    };
                    arr.push(person); 
                });

                var str = $.toJSON(arr);
                alert(str);

            });

        });

     

    </script>
</head>
<body>
    <a href="#" id="submit">submit</a>
    <table id="list">
        <tr>
            <td>
                <input id="id1" type="checkbox" />
            </td>
            <td>
                <span class="account">1</span>
            </td>
            <td>
                <span class="name">tom1</span>
            </td>
            <td>
                <span class="age" value="10">10</span>
            </td>
        </tr>
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>
                <span class="account">11</span>
            </td>
            <td>
                <span class="name">tom2</span>
            </td>
            <td>
                <span class="age" value="20">20</span>
            </td>
        </tr>
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>
                <span class="account">111</span>
            </td>
            <td>
                <span class="name">tom3</span>
            </td>
            <td>
                <span class="age" value="10">10</span>
            </td>
        </tr>
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>
                <span class="account">234</span>
            </td>
            <td>
                <span class="name">tom4</span>
            </td>
            <td>
                <span class="age" value="10">10</span>
            </td>
        </tr>
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>
                <span class="account">567</span>
            </td>
            <td>
                <span class="name">tom5</span>
            </td>
            <td>
                <span class="age" value="10">10</span>
            </td>
        </tr>
    </table>
</body>
</html>
